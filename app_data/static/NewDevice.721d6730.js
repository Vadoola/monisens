import{b5 as qe,a5 as re,u as Je,P as oe,r as j,y as ie,D as xe,b as i,d as me,o as g,Y as M,w as q,b6 as he,c as P,L as z,a0 as ce,a as o,a3 as D,h as le,a1 as ve,ae as ge,af as ye,g as ke,_ as ue,E as je,aV as Ke,aT as Ye,b7 as Xe,an as X,q as _,b8 as He,v as Ge,b9 as Ce,ax as We,s as Ue,ak as Qe,X as Z,a_ as Ze,az as te,aA as et,ba as tt,aL as ae,bb as lt,a$ as at,aF as we,l as Ne,B as de,bc as nt,O as ot,J as it,bd as Fe,ay as ut,aO as Re,aC as st}from"./index.e1e40ead.js";import{g as rt,h as dt,c as ct,b as H,d as Te,e as Be,i as vt,j as Le,k as mt,l as ze,n as ft,o as Me,p as _t,q as bt,r as pt,a as ht,s as gt}from"./VRadioGroup.165332ef.js";var ne=(t=>(t[t.None=0]="None",t[t.Connect=1]="Connect",t[t.Configure=2]="Configure",t[t.Done=3]="Done",t))(ne||{});const fe=qe("new_device",{state:()=>({device_id:0,init_state:0,is_idle:!0,device_name:"",module_file:new Array,conn_params:new Array,connect_conf:new Array,conf_info:new Array,confs:new Map}),getters:{start_init_available:t=>t.device_name.length>0&&t.module_file.length==1},actions:{conf_by_id(t){const e=this.confs.get(t);return e||(console.error("[conf_by_id]: config with id %d was not found",t),{})},assign_conf(t){t.forEach(e=>{if(e.id==0&&e.data.Section){this.assign_conf(e.data.Section);return}const u=(()=>e.data.String?{String:e.data.String.default?e.data.String.default:""}:e.data.Int?{Int:e.data.Int.default?e.data.Int.default:0}:e.data.IntRange?{IntRange:[e.data.IntRange.def_from!=null?e.data.IntRange.def_from:e.data.IntRange.min,e.data.IntRange.def_to?e.data.IntRange.def_to:e.data.IntRange.max]}:e.data.Float?{Float:e.data.Float.default?e.data.Float.default:0}:e.data.FloatRange?{FloatRange:[e.data.FloatRange.def_from!=null?e.data.FloatRange.def_from:e.data.FloatRange.min,e.data.FloatRange.def_to?e.data.FloatRange.def_to:e.data.FloatRange.max]}:e.data.JSON?{JSON:e.data.JSON.default?e.data.JSON.default:""}:e.data.ChoiceList?{ChoiceList:e.data.ChoiceList.default?e.data.ChoiceList.default:0}:{String:"INVALID_TYPE"})();this.confs.set(e.id,u)})},async start_device_init(){this.is_idle=!1;const t=await re.start_device_init(this.device_name,this.module_file[0]);this.device_id=t.device_id,this.conn_params=t.conn_params,this.conn_params.forEach(e=>{let u=(()=>{switch(e.typ){case"Bool":return{Bool:!1};case"Int":return{Int:0};case"Float":return{Float:0};case"String":return{String:"text"};case"ChoiceList":return{Int:0}}})();this.connect_conf.push({name:e.name,value:u})}),this.init_state=1,this.is_idle=!0},async connect_device(){this.is_idle=!1,await re.connect_device({device_id:this.device_id,connect_conf:this.connect_conf});const t=await re.obtain_device_conf_info({device_id:this.device_id});this.conf_info=t.data.device_conf_info,this.assign_conf(this.conf_info),this.init_state=2,this.is_idle=!0},async configure_device(){this.is_idle=!1;let t=new Array;for(const[u,s]of this.confs)t.push({id:u,data:s});await re.configure_device({device_id:this.device_id,confs:t}),this.init_state=3,Je().add_device(this.device_id,this.device_name),this.is_idle=!0}}}),Ve=oe({name:"VForm",props:{...rt()},emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:u,emit:s}=e;const n=dt(t),l=j();function r(b){b.preventDefault(),n.reset()}function d(b){const C=b,h=n.validate();C.then=h.then.bind(h),C.catch=h.catch.bind(h),C.finally=h.finally.bind(h),s("submit",C),C.defaultPrevented||h.then(A=>{let{valid:E}=A;if(E){var U;(U=l.value)==null||U.submit()}}),C.preventDefault()}return ie(()=>{var b;return i("form",{ref:l,class:"v-form",novalidate:!0,onReset:r,onSubmit:d},[(b=u.default)==null?void 0:b.call(u,n)])}),xe(n,l)}}),yt=le("h1",null,"2. Connect to the device",-1),kt=me({__name:"Connect",setup(t){const e=fe();return(u,s)=>(g(),M(Ve,{disabled:!o(e).is_idle},{default:q(()=>[i(he,null,{default:q(()=>[yt,(g(!0),P(z,null,ce(o(e).conn_params,(n,l)=>(g(),P("div",{key:l},[D(" Bool "),n.typ=="Bool"?(g(),M(ct,{key:0,label:n.name,modelValue:o(e).connect_conf[l].value.Bool,"onUpdate:modelValue":r=>o(e).connect_conf[l].value.Bool=r},null,8,["label","modelValue","onUpdate:modelValue"])):n.typ=="Int"?(g(),P(z,{key:1},[D(" Int "),i(H,{label:n.name,type:"number",modelValue:o(e).connect_conf[l].value.Int,"onUpdate:modelValue":r=>o(e).connect_conf[l].value.Int=r,modelModifiers:{number:!0}},null,8,["label","modelValue","onUpdate:modelValue"])],2112)):n.typ=="Float"?(g(),P(z,{key:2},[D(" Float "),i(H,{label:n.name,type:"number",modelValue:o(e).connect_conf[l].value.Float,"onUpdate:modelValue":r=>o(e).connect_conf[l].value.Float=r,modelModifiers:{number:!0}},null,8,["label","modelValue","onUpdate:modelValue"])],2112)):n.typ=="String"?(g(),P(z,{key:3},[D(" String "),i(H,{label:n.name,modelValue:o(e).connect_conf[l].value.String,"onUpdate:modelValue":r=>o(e).connect_conf[l].value.String=r},null,8,["label","modelValue","onUpdate:modelValue"])],2112)):n.typ=="ChoiceList"?(g(),P(z,{key:4},[D(" ChoiceList "),i(Te,{modelValue:o(e).connect_conf[l].value.Int,"onUpdate:modelValue":r=>o(e).connect_conf[l].value.Int=r,modelModifiers:{number:!0}},{default:q(()=>[le("p",null,ve(n.name),1),(g(!0),P(z,null,ce(n.info.ChoiceList.choices,(r,d)=>(g(),M(Be,{key:d,label:r,value:d},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])],2112)):D("v-if",!0)]))),128)),i(ge,{loading:!o(e).is_idle,disabled:!o(e).start_init_available||!o(e).is_idle,onClick:s[0]||(s[0]=ye(n=>o(e).connect_device(),["stop"]))},{default:q(()=>[ke("Connect")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["disabled"]))}}),Vt=ue(kt,[["__file","/Users/daniildirun/dev/monisens-frontend/src/views/new_device/Connect.vue"]]),St={name:"RangePicker",props:{step:Number,min:Number,max:Number,modelValue:null,label:String},computed:{inputVal:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}}};const Se=Symbol.for("vuetify:v-slider");function pe(t,e,u){const s=u==="vertical",n=e.getBoundingClientRect(),l="touches"in t?t.touches[0]:t;return s?l.clientY-(n.top+n.height/2):l.clientX-(n.left+n.width/2)}function Ct(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const wt=je({disabled:Boolean,error:Boolean,readonly:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...Ke(),...Ye({elevation:2})},"slider"),Ft=t=>{let{props:e,handleSliderMouseUp:u,handleMouseMove:s,getActiveThumb:n}=t;const{isRtl:l}=Xe(),r=X(e,"reverse"),d=_(()=>{let a=l.value?"rtl":"ltr";return e.reverse&&(a=a==="rtl"?"ltr":"rtl"),a}),b=_(()=>parseFloat(e.min)),C=_(()=>parseFloat(e.max)),h=_(()=>e.step>0?parseFloat(e.step):0),A=_(()=>{const a=h.value.toString().trim();return a.includes(".")?a.length-a.indexOf(".")-1:0}),E=_(()=>parseInt(e.thumbSize,10)),U=_(()=>parseInt(e.tickSize,10)),T=_(()=>parseInt(e.trackSize,10)),R=_(()=>(C.value-b.value)/h.value),G=X(e,"disabled"),v=_(()=>e.direction==="vertical"),O=_(()=>{var a;return e.error||e.disabled?void 0:(a=e.thumbColor)!=null?a:e.color}),J=_(()=>{var a;return e.error||e.disabled?void 0:(a=e.trackColor)!=null?a:e.color}),Y=_(()=>{var a;return e.error||e.disabled?void 0:(a=e.trackFillColor)!=null?a:e.color}),c=j(!1),y=j(0),m=j(),p=j();function $(a){if(h.value<=0)return a;const x=Ce(a,b.value,C.value),Q=b.value%h.value,_e=Math.round((x-Q)/h.value)*h.value+Q;return parseFloat(Math.min(_e,C.value).toFixed(A.value))}function w(a){var x;const Q=e.direction==="vertical",_e=Q?"top":"left",Pe=Q?"height":"width",De=Q?"clientY":"clientX",{[_e]:Ae,[Pe]:Ee}=(x=m.value)==null?void 0:x.$el.getBoundingClientRect(),Oe=Ct(a,De);let be=Math.min(Math.max((Oe-Ae-y.value)/Ee,0),1)||0;return(Q||d.value==="rtl")&&(be=1-be),$(b.value+be*(C.value-b.value))}let S=!1;const f=a=>{S||(y.value=0,u(w(a))),c.value=!1,S=!1,y.value=0},F=a=>{p.value=n(a),p.value&&(p.value.focus(),c.value=!0,p.value.contains(a.target)?(S=!0,y.value=pe(a,p.value,e.direction)):(y.value=0,s(w(a))))},N={passive:!0,capture:!0};function I(a){S=!0,s(w(a))}function k(a){a.stopPropagation(),a.preventDefault(),f(a),window.removeEventListener("mousemove",I,N),window.removeEventListener("mouseup",k)}function V(a){var x;f(a),window.removeEventListener("touchmove",I,N),(x=a.target)==null||x.removeEventListener("touchend",V)}function L(a){var x;F(a),window.addEventListener("touchmove",I,N),(x=a.target)==null||x.addEventListener("touchend",V,{passive:!1})}function B(a){a.preventDefault(),F(a),window.addEventListener("mousemove",I,N),window.addEventListener("mouseup",k,{passive:!1})}const W=a=>{const x=(a-b.value)/(C.value-b.value)*100;return Ce(isNaN(x)?0:x,0,100)},ee=_(()=>e.ticks?Array.isArray(e.ticks)?e.ticks.map(a=>({value:a,position:W(a),label:a.toString()})):Object.keys(e.ticks).map(a=>({value:parseFloat(a),position:W(parseFloat(a)),label:e.ticks[a]})):R.value!==1/0?He(R.value+1).map(a=>{const x=b.value+a*h.value;return{value:x,position:W(x)}}):[]),K=_(()=>ee.value.some(a=>{let{label:x}=a;return!!x})),se={activeThumbRef:p,color:X(e,"color"),decimals:A,disabled:G,direction:X(e,"direction"),elevation:X(e,"elevation"),hasLabels:K,horizontalDirection:d,isReversed:r,min:b,max:C,mousePressed:c,numTicks:R,onSliderMousedown:B,onSliderTouchstart:L,parsedTicks:ee,parseMouseMove:w,position:W,readonly:X(e,"readonly"),rounded:X(e,"rounded"),roundValue:$,showTicks:X(e,"showTicks"),startOffset:y,step:h,thumbSize:E,thumbColor:O,thumbLabel:X(e,"thumbLabel"),ticks:X(e,"ticks"),tickSize:U,trackColor:J,trackContainerRef:m,trackFillColor:Y,trackSize:T,vertical:v};return Ge(Se,se),se};const $e=oe({name:"VSliderThumb",directives:{Ripple:We},props:{focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:Boolean,default:!0}},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:u,emit:s}=e;const n=Ue(Se);if(!n)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:l,step:r,vertical:d,disabled:b,thumbSize:C,thumbLabel:h,direction:A,readonly:E,elevation:U,isReversed:T,horizontalDirection:R,mousePressed:G,decimals:v}=n,{textColorClasses:O,textColorStyles:J}=Qe(l),{pageup:Y,pagedown:c,end:y,home:m,left:p,right:$,down:w,up:S}=lt,f=[Y,c,y,m,p,$,w,S],F=_(()=>r.value?[1,2,3]:[1,5,10]);function N(k,V){if(!f.includes(k.key))return;k.preventDefault();const L=r.value||.1,B=(t.max-t.min)/L;if([p,$,w,S].includes(k.key)){const ee=(R.value==="rtl"?[p,S]:[$,S]).includes(k.key)?1:-1,K=k.shiftKey?2:k.ctrlKey?1:0;V=V+ee*L*F.value[K]}else if(k.key===m)V=t.min;else if(k.key===y)V=t.max;else{const W=k.key===c?1:-1;V=V-W*L*(B>100?B/10:10)}return Math.max(t.min,Math.min(t.max,V))}function I(k){const V=N(k,t.modelValue);V!=null&&s("update:modelValue",V)}return ie(()=>{var k;const V=Z(d.value||T.value?100-t.position:t.position,"%"),{elevationClasses:L}=Ze(_(()=>b.value?void 0:U.value));return i("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&G.value}],style:{"--v-slider-thumb-position":V,"--v-slider-thumb-size":Z(C.value)},role:"slider",tabindex:b.value?-1:0,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":E.value,"aria-orientation":A.value,onKeydown:E.value?void 0:I},[i("div",{class:["v-slider-thumb__surface",O.value,L.value],style:{...J.value}},null),te(i("div",{class:["v-slider-thumb__ripple",O.value],style:J.value},null),[[et("ripple"),t.ripple,null,{circle:!0,center:!0}]]),i(tt,{origin:"bottom center"},{default:()=>{var B;return[te(i("div",{class:"v-slider-thumb__label-container"},[i("div",{class:["v-slider-thumb__label"]},[i("div",null,[(B=(k=u["thumb-label"])==null?void 0:k.call(u,{modelValue:t.modelValue}))!=null?B:t.modelValue.toFixed(r.value?v.value:1)])])]),[[ae,h.value&&t.focused||h.value==="always"]])]}})])}),{}}});const Rt=oe({name:"VSliderTrack",props:{start:{type:Number,required:!0},stop:{type:Number,required:!0}},emits:{},setup(t,e){let{slots:u}=e;const s=Ue(Se);if(!s)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:n,horizontalDirection:l,parsedTicks:r,rounded:d,showTicks:b,tickSize:C,trackColor:h,trackFillColor:A,trackSize:E,vertical:U,min:T,max:R}=s,{roundedClasses:G}=at(d),{backgroundColorClasses:v,backgroundColorStyles:O}=we(A),{backgroundColorClasses:J,backgroundColorStyles:Y}=we(h),c=_(()=>`inset-${U.value?"block-end":"inline-start"}`),y=_(()=>U.value?"height":"width"),m=_(()=>({[c.value]:"0%",[y.value]:"100%"})),p=_(()=>t.stop-t.start),$=_(()=>({[c.value]:Z(t.start,"%"),[y.value]:Z(p.value,"%")})),w=_(()=>(U.value?r.value.slice().reverse():r.value).map((f,F)=>{var V;var N;const I=U.value?"bottom":"margin-inline-start",k=f.value!==T.value&&f.value!==R.value?Z(f.position,"%"):void 0;return i("div",{key:f.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":f.position>=t.start&&f.position<=t.stop,"v-slider-track__tick--first":f.value===T.value,"v-slider-track__tick--last":f.value===R.value}],style:{[I]:k}},[(f.label||u["tick-label"])&&i("div",{class:"v-slider-track__tick-label"},[(V=(N=u["tick-label"])==null?void 0:N.call(u,{tick:f,index:F}))!=null?V:f.label])])}));return ie(()=>i("div",{class:["v-slider-track",G.value],style:{"--v-slider-track-size":Z(E.value),"--v-slider-tick-size":Z(C.value),direction:U.value?void 0:l.value}},[i("div",{class:["v-slider-track__background",J.value,{"v-slider-track__background--opacity":!!n.value||!A.value}],style:{...m.value,...Y.value}},null),i("div",{class:["v-slider-track__fill",v.value],style:{...$.value,...O.value}},null),b.value&&i("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":b.value==="always"}]},[w.value])])),{}}}),$t=oe({name:"VRangeSlider",props:{...vt(),...Le(),...wt(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{slots:u}=e;const s=j(),n=j(),l=j();function r(m){if(!s.value||!n.value)return;const p=pe(m,s.value.$el,t.direction),$=pe(m,n.value.$el,t.direction),w=Math.abs(p),S=Math.abs($);return w<S||w===S&&p<0?s.value.$el:n.value.$el}const{activeThumbRef:d,hasLabels:b,max:C,min:h,mousePressed:A,onSliderMousedown:E,onSliderTouchstart:U,position:T,roundValue:R,trackContainerRef:G}=Ft({props:t,handleSliderMouseUp:m=>{var p;v.value=d.value===((p=s.value)==null?void 0:p.$el)?[m,v.value[1]]:[v.value[0],m]},handleMouseMove:m=>{var p;const[$,w]=v.value;if(!t.strict&&$===w&&$!==h.value){var S,f,F;d.value=m>$?(S=n.value)==null?void 0:S.$el:(f=s.value)==null?void 0:f.$el,(F=d.value)==null||F.focus()}d.value===((p=s.value)==null?void 0:p.$el)?v.value=[Math.min(m,w),w]:v.value=[$,Math.max($,m)]},getActiveThumb:r}),v=Ne(t,"modelValue",void 0,m=>!m||!m.length?[0,0]:m.map(p=>R(p))),{isFocused:O,focus:J,blur:Y}=mt(t),c=_(()=>T(v.value[0])),y=_(()=>T(v.value[1]));return ie(()=>{const[m,p]=ze(t),$=!!(t.label||u.label||u.prepend);return i(Me,de({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!u["tick-label"]||b.value,"v-slider--focused":O.value,"v-slider--pressed":A.value,"v-slider--disabled":t.disabled}],ref:l},m,{focused:O.value}),{...u,prepend:$?w=>{var F;var S,f;return i(z,null,[((F=(S=u.label)==null?void 0:S.call(u,w))!=null?F:t.label)?i(ft,{class:"v-slider__label",text:t.label},null):void 0,(f=u.prepend)==null?void 0:f.call(u,w)])}:void 0,default:w=>{var S,f;let{id:F,messagesId:N}=w;return i("div",{class:"v-slider__container",onMousedown:E,onTouchstartPassive:U},[i("input",{id:`${F.value}_start`,name:t.name||F.value,disabled:t.disabled,readonly:t.readonly,tabindex:"-1",value:v.value[0]},null),i("input",{id:`${F.value}_stop`,name:t.name||F.value,disabled:t.disabled,readonly:t.readonly,tabindex:"-1",value:v.value[1]},null),i(Rt,{ref:G,start:c.value,stop:y.value},{"tick-label":u["tick-label"]}),i($e,{ref:s,"aria-describedby":N.value,focused:O&&d.value===((S=s.value)==null?void 0:S.$el),modelValue:v.value[0],"onUpdate:modelValue":I=>v.value=[I,v.value[1]],onFocus:I=>{var k,V;if(J(),d.value=(k=s.value)==null?void 0:k.$el,v.value[0]===v.value[1]&&v.value[1]===h.value&&I.relatedTarget!==((V=n.value)==null?void 0:V.$el)){var L,B;(L=s.value)==null||L.$el.blur(),(B=n.value)==null||B.$el.focus()}},onBlur:()=>{Y(),d.value=void 0},min:h.value,max:v.value[1],position:c.value},{"thumb-label":u["thumb-label"]}),i($e,{ref:n,"aria-describedby":N.value,focused:O&&d.value===((f=n.value)==null?void 0:f.$el),modelValue:v.value[1],"onUpdate:modelValue":I=>v.value=[v.value[0],I],onFocus:I=>{var k,V;if(J(),d.value=(k=n.value)==null?void 0:k.$el,v.value[0]===v.value[1]&&v.value[0]===C.value&&I.relatedTarget!==((V=s.value)==null?void 0:V.$el)){var L,B;(L=n.value)==null||L.$el.blur(),(B=s.value)==null||B.$el.focus()}},onBlur:()=>{Y(),d.value=void 0},min:v.value[0],max:C.value,position:y.value},{"thumb-label":u["thumb-label"]})])}})}),{}}}),It={key:0,style:{"padding-bottom":"20px"}};function xt(t,e,u,s,n,l){return g(),P(z,null,[u.label?(g(),P("h3",It,ve(u.label),1)):D("v-if",!0),i($t,{modelValue:l.inputVal,"onUpdate:modelValue":e[2]||(e[2]=r=>l.inputVal=r),min:u.min,max:u.max,step:u.step},{prepend:q(()=>[i(H,{modelValue:l.inputVal[0],"onUpdate:modelValue":e[0]||(e[0]=r=>l.inputVal[0]=r),"hide-details":"","single-line":"",type:"number",variant:"outlined",density:"compact",style:{width:"120px"}},null,8,["modelValue"])]),append:q(()=>[i(H,{modelValue:l.inputVal[1],"onUpdate:modelValue":e[1]||(e[1]=r=>l.inputVal[1]=r),"hide-details":"","single-line":"",type:"number",variant:"outlined",density:"compact",style:{width:"120px"}},null,8,["modelValue"])]),_:1},8,["modelValue","min","max","step"])],64)}const Ie=ue(St,[["render",xt],["__file","/Users/daniildirun/dev/monisens-frontend/src/components/new_device/RangePicker.vue"]]),Ut={key:0},Nt={name:"ConfigureSection",props:{name:String,conf_info:Object}},Tt=me({...Nt,setup(t){const e=fe();return(u,s)=>{const n=nt("ConfigureSection",!0);return g(),P(z,null,[t.name?(g(),P("h2",Ut,ve(t.name),1)):D("v-if",!0),(g(!0),P(z,null,ce(t.conf_info,(l,r)=>(g(),M(he,{key:r},{default:q(()=>[l.data.String?(g(),M(H,{key:0,label:l.name,modelValue:o(e).conf_by_id(l.id).String,"onUpdate:modelValue":d=>o(e).conf_by_id(l.id).String=d},null,8,["label","modelValue","onUpdate:modelValue"])):l.data.Int?(g(),M(H,{key:1,label:l.name,type:"number",modelValue:o(e).conf_by_id(l.id).Int,"onUpdate:modelValue":d=>o(e).conf_by_id(l.id).Int=d,modelModifiers:{number:!0}},null,8,["label","modelValue","onUpdate:modelValue"])):l.data.IntRange?(g(),M(Ie,{key:2,modelValue:o(e).conf_by_id(l.id).IntRange,"onUpdate:modelValue":d=>o(e).conf_by_id(l.id).IntRange=d,label:l.name,step:1,min:l.data.IntRange.min,max:l.data.IntRange.max},null,8,["modelValue","onUpdate:modelValue","label","min","max"])):l.data.Float?(g(),M(H,{key:3,label:l.name,type:"number",modelValue:o(e).conf_by_id(l.id).Float,"onUpdate:modelValue":d=>o(e).conf_by_id(l.id).Float=d,modelModifiers:{number:!0}},null,8,["label","modelValue","onUpdate:modelValue"])):l.data.FloatRange?(g(),M(Ie,{key:4,modelValue:o(e).conf_by_id(l.id).FloatRange,"onUpdate:modelValue":d=>o(e).conf_by_id(l.id).FloatRange=d,label:l.name,step:.001,min:l.data.FloatRange.min,max:l.data.FloatRange.max},null,8,["modelValue","onUpdate:modelValue","label","step","min","max"])):D("v-if",!0),l.data.JSON?(g(),M(H,{key:5,label:l.name,modelValue:o(e).conf_by_id(l.id).JSON,"onUpdate:modelValue":d=>o(e).conf_by_id(l.id).JSON=d},null,8,["label","modelValue","onUpdate:modelValue"])):l.data.ChoiceList?(g(),M(Te,{key:6,modelValue:o(e).conf_by_id(l.id).ChoiceList,"onUpdate:modelValue":d=>o(e).conf_by_id(l.id).ChoiceList=d,modelModifiers:{number:!0}},{default:q(()=>[le("p",null,ve(l.name),1),(g(!0),P(z,null,ce(l.data.ChoiceList.choices,(d,b)=>(g(),M(Be,{key:b,label:d,value:b},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):l.data.Section?(g(),M(n,{key:7,conf_info:l.data.Section,name:l.name},null,8,["conf_info","name"])):D("v-if",!0)]),_:2},1024))),128))],64)}}}),Bt=ue(Tt,[["__file","/Users/daniildirun/dev/monisens-frontend/src/components/new_device/ConfigureSection.vue"]]),Lt=le("h1",null,"3. Configure device",-1),zt=me({__name:"Configure",setup(t){const e=fe();return(u,s)=>(g(),M(Ve,{disabled:!o(e).is_idle},{default:q(()=>[Lt,i(Bt,{conf_info:o(e).conf_info},null,8,["conf_info"]),i(ge,{loading:!o(e).is_idle,disabled:!o(e).start_init_available||!o(e).is_idle,onClick:s[0]||(s[0]=ye(n=>o(e).configure_device(),["stop"]))},{default:q(()=>[ke("Configure")]),_:1},8,["loading","disabled"])]),_:1},8,["disabled"]))}}),Mt=ue(zt,[["__file","/Users/daniildirun/dev/monisens-frontend/src/views/new_device/Configure.vue"]]);const Pt=oe({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,hint:String,persistentHint:Boolean,placeholder:String,showSize:{type:[Boolean,Number],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(t)},...Le({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:t=>ot(t).every(e=>e!=null&&typeof e=="object")},..._t({clearable:!0})},emits:{"click:control":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:u,emit:s,slots:n}=e;const{t:l}=it(),r=Ne(t,"modelValue"),d=_(()=>typeof t.showSize!="boolean"?t.showSize:void 0),b=_(()=>{var c;return((c=r.value)!=null?c:[]).reduce((y,m)=>{let{size:p=0}=m;return y+p},0)}),C=_(()=>Fe(b.value,d.value)),h=_(()=>{var c;return((c=r.value)!=null?c:[]).map(y=>{const{name:m="",size:p=0}=y;return t.showSize?`${m} (${Fe(p,d.value)})`:m})}),A=_(()=>{var m;var c;const y=(m=(c=r.value)==null?void 0:c.length)!=null?m:0;return t.showSize?l(t.counterSizeString,y,C.value):l(t.counterString,y)}),E=j(),U=j(),T=j(!1),R=j(),G=_(()=>t.messages.length?t.messages:t.persistentHint?t.hint:"");function v(){if(R.value!==document.activeElement){var c;(c=R.value)==null||c.focus()}T.value||(T.value=!0)}function O(c){Re(t["onClick:prepend"],c),J(c)}function J(c){var y;(y=R.value)==null||y.click(),s("click:control",c)}function Y(c){c.stopPropagation(),v(),st(()=>{r.value=[],R!=null&&R.value&&(R.value.value=""),Re(t["onClick:clear"],c)})}return ie(()=>{const c=!!(n.counter||t.counter),y=!!(c||n.details),[m,p]=ut(u),[{modelValue:$,...w}]=ze(t),[S]=bt(t);return i(Me,de({ref:E,modelValue:r.value,"onUpdate:modelValue":f=>r.value=f,class:"v-file-input","onClick:prepend":O,"onClick:append":t["onClick:append"]},m,w,{focused:T.value,messages:G.value}),{...n,default:f=>{let{id:F,isDisabled:N,isDirty:I,isReadonly:k,isValid:V}=f;return i(pt,de({ref:U,"prepend-icon":t.prependIcon,"onClick:control":J,"onClick:clear":Y,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},S,{id:F.value,active:I.value||T.value,dirty:I.value,focused:T.value,error:V.value===!1}),{...n,default:L=>{var B;let{props:{class:W,...ee}}=L;return i(z,null,[i("input",de({ref:R,type:"file",readonly:k.value,disabled:N.value,multiple:t.multiple,name:t.name,onClick:K=>{K.stopPropagation(),v()},onChange:K=>{var a;if(!K.target)return;const se=K.target;r.value=[...(a=se.files)!=null?a:[]]},onFocus:v,onBlur:()=>T.value=!1},ee,p),null),i("div",{class:W},[!!((B=r.value)!=null&&B.length)&&(n.selection?n.selection({fileNames:h.value,totalBytes:b.value,totalBytesReadable:C.value}):t.chips?h.value.map(K=>i(ht,{key:K,size:"small",color:t.color},{default:()=>[K]})):h.value.join(", "))])])}})},details:y?f=>{var F,N;return i(z,null,[(F=n.details)==null?void 0:F.call(n,f),c&&i(z,null,[i("span",null,null),i(gt,{active:!!((N=r.value)!=null&&N.length),value:A.value},n.counter)])])}:void 0})}),xe({},E,U,R)}}),Dt=le("h1",null,"1. Start initialization",-1),At=me({__name:"NewDevice",setup(t){const e=fe();return(u,s)=>(g(),P(z,null,[D(" Start init "),te(i(Ve,{disabled:!o(e).is_idle},{default:q(()=>[i(he,null,{default:q(()=>[Dt,i(H,{label:"Device name",modelValue:o(e).device_name,"onUpdate:modelValue":s[0]||(s[0]=n=>o(e).device_name=n),active:o(e).is_idle},null,8,["modelValue","active"]),i(Pt,{label:"Device's module file",modelValue:o(e).module_file,"onUpdate:modelValue":s[1]||(s[1]=n=>o(e).module_file=n)},null,8,["modelValue"]),i(ge,{loading:!o(e).is_idle,disabled:!o(e).start_init_available||!o(e).is_idle,onClick:s[2]||(s[2]=ye(n=>o(e).start_device_init(),["stop"]))},{default:q(()=>[ke("Start Init")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["disabled"]),[[ae,o(e).init_state==o(ne).None]]),D(" Connect "),te(i(Vt,null,null,512),[[ae,o(e).init_state==o(ne).Connect]]),D(" Configure "),te(i(Mt,null,null,512),[[ae,o(e).init_state==o(ne).Configure]]),D(" Done "),te(le("h1",null," You're all set! ",512),[[ae,o(e).init_state==o(ne).Done]])],64))}}),qt=ue(At,[["__file","/Users/daniildirun/dev/monisens-frontend/src/views/new_device/NewDevice.vue"]]);export{qt as default};
