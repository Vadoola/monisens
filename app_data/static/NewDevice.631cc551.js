import{b4 as Ke,b5 as Ye,a4 as ce,u as Xe,P as ue,r as E,y as ae,D as ge,b as i,d as ve,o as p,Y as U,w as z,c as j,$ as se,a as o,h as Q,a0 as re,L as J,a2 as ie,ad as me,ae as ye,g as fe,b6 as ke,E as He,aU as xe,aS as Ge,b7 as We,am as X,q as h,b8 as Ze,v as Qe,b9 as we,aw as et,s as Ue,aj as tt,X as Z,aZ as lt,ay as te,az as at,ba as nt,aK as ne,bb as ot,a_ as Be,aE as Fe,l as Ve,B as le,bc as Ne,bd as it,i as st,be as rt,bf as ut,aP as dt,T as ct,j as vt,m as mt,bg as ft,bh as _t,n as bt,U as ht,aY as pt,x as Re,a7 as gt,z as yt,b2 as kt,A as Vt,C as St,O as Ct,J as wt,bi as $e,ax as Ft,aN as Te,aB as Rt}from"./index.8f9928dc.js";import{g as $t,h as Tt,c as It,b as H,d as Le,e as ze,i as Pt,j as Me,k as xt,l as Ae,n as Ut,o as Oe,p as Bt,q as Nt,r as Lt,a as zt,s as Mt}from"./VRadioGroup.df3bec40.js";var oe=(t=>(t[t.None=0]="None",t[t.Connect=1]="Connect",t[t.Configure=2]="Configure",t[t.Done=3]="Done",t))(oe||{});const _e=Ke("new_device",{state:()=>({error_msgs:new Array,show_error:!1,show_error_timeout:null,err_clr_timeout:null,device_id:0,init_state:0,is_idle:!0,device_name:"",module_file:new Array,conn_params:new Array,connect_conf:new Array,conf_info:new Array,confs:new Map}),getters:{start_init_available:t=>t.device_name.length>0&&t.module_file.length==1},actions:{handle_error(t){this.handle_error_raw("["+t.code+"] "+t.msg)},handle_error_raw(t){this.show_error_timeout&&clearTimeout(this.show_error_timeout),this.err_clr_timeout&&clearTimeout(this.err_clr_timeout),this.error_msgs.push(t),this.show_error=!0,this.show_error_timeout=setTimeout(()=>{this.handle_error_close(!1)},5e3)},handle_error_close(t){t||(this.show_error=!1,this.err_clr_timeout=setTimeout(()=>{this.error_msgs=[]},1e3))},async with_error_handling(t){try{await t()}catch(e){e instanceof Ye?e.data.msg&&e.data.code?this.handle_error(e.data):this.handle_error_raw("["+e.status+"] "+e.data.toString()):this.handle_error_raw("[unknown] "+(e==null?void 0:e.toString()))}},conf_by_id(t){const e=this.confs.get(t);return e||(console.error("[conf_by_id]: config with id %d was not found",t),{})},assign_conf(t){t.forEach(e=>{if(e.id==0&&e.data.Section){this.assign_conf(e.data.Section);return}const r=(()=>e.data.String?{String:e.data.String.default?e.data.String.default:""}:e.data.Int?{Int:e.data.Int.default?e.data.Int.default:0}:e.data.IntRange?{IntRange:[e.data.IntRange.def_from!=null?e.data.IntRange.def_from:e.data.IntRange.min,e.data.IntRange.def_to?e.data.IntRange.def_to:e.data.IntRange.max]}:e.data.Float?{Float:e.data.Float.default?e.data.Float.default:0}:e.data.FloatRange?{FloatRange:[e.data.FloatRange.def_from!=null?e.data.FloatRange.def_from:e.data.FloatRange.min,e.data.FloatRange.def_to?e.data.FloatRange.def_to:e.data.FloatRange.max]}:e.data.JSON?{JSON:e.data.JSON.default?e.data.JSON.default:""}:e.data.ChoiceList?{ChoiceList:e.data.ChoiceList.default?e.data.ChoiceList.default:0}:{String:"INVALID_TYPE"})();this.confs.set(e.id,r)})},prepare_conn_conf(){this.conn_params.forEach(t=>{let e=(()=>{switch(t.typ){case"Bool":return{Bool:!1};case"Int":return{Int:0};case"Float":return{Float:0};case"String":return{String:"text"};case"ChoiceList":return{Int:0}}})();this.connect_conf.push({name:t.name,value:e})})},async start_device_init(){this.is_idle=!1;try{const[t,e]=await ce.start_device_init(this.device_name,this.module_file[0]);if(!e)this.handle_error(t);else{let r=t;this.device_id=r.device_id,this.conn_params=r.conn_params,this.prepare_conn_conf(),this.init_state=1}}catch(t){this.handle_error_raw(t.toString())}this.is_idle=!0},async connect_device(){this.is_idle=!1,await this.with_error_handling(async()=>{await ce.connect_device({device_id:this.device_id,connect_conf:this.connect_conf});const t=await ce.obtain_device_conf_info({device_id:this.device_id});this.conf_info=t.data.device_conf_info,this.assign_conf(this.conf_info),this.init_state=2}),this.is_idle=!0},async configure_device(){this.is_idle=!1,await this.with_error_handling(async()=>{let t=new Array;for(const[r,s]of this.confs)t.push({id:r,data:s});await ce.configure_device({device_id:this.device_id,confs:t}),this.init_state=3,Xe().add_device(this.device_id,this.device_name)}),this.is_idle=!0}}}),Se=ue({name:"VForm",props:{...$t()},emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:r,emit:s}=e;const a=Tt(t),l=E();function u(f){f.preventDefault(),a.reset()}function d(f){const S=f,_=a.validate();S.then=_.then.bind(_),S.catch=_.catch.bind(_),S.finally=_.finally.bind(_),s("submit",S),S.defaultPrevented||_.then(M=>{let{valid:N}=M;if(N){var R;(R=l.value)==null||R.submit()}}),S.preventDefault()}return ae(()=>{var f;return i("form",{ref:l,class:"v-form",novalidate:!0,onReset:u,onSubmit:d},[(f=r.default)==null?void 0:f.call(r,a)])}),ge(a,l)}}),At=Q("h1",null,"2. Connect to the device",-1),Ot=ve({__name:"Connect",setup(t){const e=_e();return(r,s)=>(p(),U(Se,{disabled:!o(e).is_idle},{default:z(()=>[i(ke,null,{default:z(()=>[At,(p(!0),j(J,null,se(o(e).conn_params,(a,l)=>(p(),j("div",{key:l},[a.typ=="Bool"?(p(),U(It,{key:0,label:a.name,modelValue:o(e).connect_conf[l].value.Bool,"onUpdate:modelValue":u=>o(e).connect_conf[l].value.Bool=u},null,8,["label","modelValue","onUpdate:modelValue"])):a.typ=="Int"?(p(),U(H,{key:1,label:a.name,type:"number",modelValue:o(e).connect_conf[l].value.Int,"onUpdate:modelValue":u=>o(e).connect_conf[l].value.Int=u,modelModifiers:{number:!0}},null,8,["label","modelValue","onUpdate:modelValue"])):a.typ=="Float"?(p(),U(H,{key:2,label:a.name,type:"number",modelValue:o(e).connect_conf[l].value.Float,"onUpdate:modelValue":u=>o(e).connect_conf[l].value.Float=u,modelModifiers:{number:!0}},null,8,["label","modelValue","onUpdate:modelValue"])):a.typ=="String"?(p(),U(H,{key:3,label:a.name,modelValue:o(e).connect_conf[l].value.String,"onUpdate:modelValue":u=>o(e).connect_conf[l].value.String=u},null,8,["label","modelValue","onUpdate:modelValue"])):a.typ=="ChoiceList"?(p(),U(Le,{key:4,modelValue:o(e).connect_conf[l].value.Int,"onUpdate:modelValue":u=>o(e).connect_conf[l].value.Int=u,modelModifiers:{number:!0}},{default:z(()=>[Q("p",null,re(a.name),1),(p(!0),j(J,null,se(a.info.ChoiceList.choices,(u,d)=>(p(),U(ze,{key:d,label:u,value:d},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):ie("",!0)]))),128)),i(me,{loading:!o(e).is_idle,disabled:!o(e).start_init_available||!o(e).is_idle,onClick:s[0]||(s[0]=ye(a=>o(e).connect_device(),["stop"]))},{default:z(()=>[fe("Connect")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["disabled"]))}}),Dt={name:"RangePicker",props:{step:Number,min:Number,max:Number,modelValue:null,label:String},computed:{inputVal:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}},emits:["update:modelValue"]};const Ce=Symbol.for("vuetify:v-slider");function pe(t,e,r){const s=r==="vertical",a=e.getBoundingClientRect(),l="touches"in t?t.touches[0]:t;return s?l.clientY-(a.top+a.height/2):l.clientX-(a.left+a.width/2)}function Et(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const jt=He({disabled:Boolean,error:Boolean,readonly:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...xe(),...Ge({elevation:2})},"slider"),qt=t=>{let{props:e,handleSliderMouseUp:r,handleMouseMove:s,getActiveThumb:a}=t;const{isRtl:l}=We(),u=X(e,"reverse"),d=h(()=>{let n=l.value?"rtl":"ltr";return e.reverse&&(n=n==="rtl"?"ltr":"rtl"),n}),f=h(()=>parseFloat(e.min)),S=h(()=>parseFloat(e.max)),_=h(()=>e.step>0?parseFloat(e.step):0),M=h(()=>{const n=_.value.toString().trim();return n.includes(".")?n.length-n.indexOf(".")-1:0}),N=h(()=>parseInt(e.thumbSize,10)),R=h(()=>parseInt(e.tickSize,10)),$=h(()=>parseInt(e.trackSize,10)),T=h(()=>(S.value-f.value)/_.value),A=X(e,"disabled"),c=h(()=>e.direction==="vertical"),D=h(()=>{var n;return e.error||e.disabled?void 0:(n=e.thumbColor)!=null?n:e.color}),q=h(()=>{var n;return e.error||e.disabled?void 0:(n=e.trackColor)!=null?n:e.color}),Y=h(()=>{var n;return e.error||e.disabled?void 0:(n=e.trackFillColor)!=null?n:e.color}),v=E(!1),y=E(0),m=E(),g=E();function I(n){if(_.value<=0)return n;const x=we(n,f.value,S.value),W=f.value%_.value,be=Math.round((x-W)/_.value)*_.value+W;return parseFloat(Math.min(be,S.value).toFixed(M.value))}function w(n){var x;const W=e.direction==="vertical",be=W?"top":"left",De=W?"height":"width",Ee=W?"clientY":"clientX",{[be]:je,[De]:qe}=(x=m.value)==null?void 0:x.$el.getBoundingClientRect(),Je=Et(n,Ee);let he=Math.min(Math.max((Je-je-y.value)/qe,0),1)||0;return(W||d.value==="rtl")&&(he=1-he),I(f.value+he*(S.value-f.value))}let C=!1;const b=n=>{C||(y.value=0,r(w(n))),v.value=!1,C=!1,y.value=0},F=n=>{g.value=a(n),g.value&&(g.value.focus(),v.value=!0,g.value.contains(n.target)?(C=!0,y.value=pe(n,g.value,e.direction)):(y.value=0,s(w(n))))},B={passive:!0,capture:!0};function P(n){C=!0,s(w(n))}function k(n){n.stopPropagation(),n.preventDefault(),b(n),window.removeEventListener("mousemove",P,B),window.removeEventListener("mouseup",k)}function V(n){var x;b(n),window.removeEventListener("touchmove",P,B),(x=n.target)==null||x.removeEventListener("touchend",V)}function O(n){var x;F(n),window.addEventListener("touchmove",P,B),(x=n.target)==null||x.addEventListener("touchend",V,{passive:!1})}function L(n){n.preventDefault(),F(n),window.addEventListener("mousemove",P,B),window.addEventListener("mouseup",k,{passive:!1})}const G=n=>{const x=(n-f.value)/(S.value-f.value)*100;return we(isNaN(x)?0:x,0,100)},ee=h(()=>e.ticks?Array.isArray(e.ticks)?e.ticks.map(n=>({value:n,position:G(n),label:n.toString()})):Object.keys(e.ticks).map(n=>({value:parseFloat(n),position:G(parseFloat(n)),label:e.ticks[n]})):T.value!==1/0?Ze(T.value+1).map(n=>{const x=f.value+n*_.value;return{value:x,position:G(x)}}):[]),K=h(()=>ee.value.some(n=>{let{label:x}=n;return!!x})),de={activeThumbRef:g,color:X(e,"color"),decimals:M,disabled:A,direction:X(e,"direction"),elevation:X(e,"elevation"),hasLabels:K,horizontalDirection:d,isReversed:u,min:f,max:S,mousePressed:v,numTicks:T,onSliderMousedown:L,onSliderTouchstart:O,parsedTicks:ee,parseMouseMove:w,position:G,readonly:X(e,"readonly"),rounded:X(e,"rounded"),roundValue:I,showTicks:X(e,"showTicks"),startOffset:y,step:_,thumbSize:N,thumbColor:D,thumbLabel:X(e,"thumbLabel"),ticks:X(e,"ticks"),tickSize:R,trackColor:q,trackContainerRef:m,trackFillColor:Y,trackSize:$,vertical:c};return Qe(Ce,de),de};const Ie=ue({name:"VSliderThumb",directives:{Ripple:et},props:{focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:Boolean,default:!0}},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r,emit:s}=e;const a=Ue(Ce);if(!a)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:l,step:u,vertical:d,disabled:f,thumbSize:S,thumbLabel:_,direction:M,readonly:N,elevation:R,isReversed:$,horizontalDirection:T,mousePressed:A,decimals:c}=a,{textColorClasses:D,textColorStyles:q}=tt(l),{pageup:Y,pagedown:v,end:y,home:m,left:g,right:I,down:w,up:C}=ot,b=[Y,v,y,m,g,I,w,C],F=h(()=>u.value?[1,2,3]:[1,5,10]);function B(k,V){if(!b.includes(k.key))return;k.preventDefault();const O=u.value||.1,L=(t.max-t.min)/O;if([g,I,w,C].includes(k.key)){const ee=(T.value==="rtl"?[g,C]:[I,C]).includes(k.key)?1:-1,K=k.shiftKey?2:k.ctrlKey?1:0;V=V+ee*O*F.value[K]}else if(k.key===m)V=t.min;else if(k.key===y)V=t.max;else{const G=k.key===v?1:-1;V=V-G*O*(L>100?L/10:10)}return Math.max(t.min,Math.min(t.max,V))}function P(k){const V=B(k,t.modelValue);V!=null&&s("update:modelValue",V)}return ae(()=>{var k;const V=Z(d.value||$.value?100-t.position:t.position,"%"),{elevationClasses:O}=lt(h(()=>f.value?void 0:R.value));return i("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&A.value}],style:{"--v-slider-thumb-position":V,"--v-slider-thumb-size":Z(S.value)},role:"slider",tabindex:f.value?-1:0,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":N.value,"aria-orientation":M.value,onKeydown:N.value?void 0:P},[i("div",{class:["v-slider-thumb__surface",D.value,O.value],style:{...q.value}},null),te(i("div",{class:["v-slider-thumb__ripple",D.value],style:q.value},null),[[at("ripple"),t.ripple,null,{circle:!0,center:!0}]]),i(nt,{origin:"bottom center"},{default:()=>{var L;return[te(i("div",{class:"v-slider-thumb__label-container"},[i("div",{class:["v-slider-thumb__label"]},[i("div",null,[(L=(k=r["thumb-label"])==null?void 0:k.call(r,{modelValue:t.modelValue}))!=null?L:t.modelValue.toFixed(u.value?c.value:1)])])]),[[ne,_.value&&t.focused||_.value==="always"]])]}})])}),{}}});const Jt=ue({name:"VSliderTrack",props:{start:{type:Number,required:!0},stop:{type:Number,required:!0}},emits:{},setup(t,e){let{slots:r}=e;const s=Ue(Ce);if(!s)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:a,horizontalDirection:l,parsedTicks:u,rounded:d,showTicks:f,tickSize:S,trackColor:_,trackFillColor:M,trackSize:N,vertical:R,min:$,max:T}=s,{roundedClasses:A}=Be(d),{backgroundColorClasses:c,backgroundColorStyles:D}=Fe(M),{backgroundColorClasses:q,backgroundColorStyles:Y}=Fe(_),v=h(()=>`inset-${R.value?"block-end":"inline-start"}`),y=h(()=>R.value?"height":"width"),m=h(()=>({[v.value]:"0%",[y.value]:"100%"})),g=h(()=>t.stop-t.start),I=h(()=>({[v.value]:Z(t.start,"%"),[y.value]:Z(g.value,"%")})),w=h(()=>(R.value?u.value.slice().reverse():u.value).map((b,F)=>{var V;var B;const P=R.value?"bottom":"margin-inline-start",k=b.value!==$.value&&b.value!==T.value?Z(b.position,"%"):void 0;return i("div",{key:b.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":b.position>=t.start&&b.position<=t.stop,"v-slider-track__tick--first":b.value===$.value,"v-slider-track__tick--last":b.value===T.value}],style:{[P]:k}},[(b.label||r["tick-label"])&&i("div",{class:"v-slider-track__tick-label"},[(V=(B=r["tick-label"])==null?void 0:B.call(r,{tick:b,index:F}))!=null?V:b.label])])}));return ae(()=>i("div",{class:["v-slider-track",A.value],style:{"--v-slider-track-size":Z(N.value),"--v-slider-tick-size":Z(S.value),direction:R.value?void 0:l.value}},[i("div",{class:["v-slider-track__background",q.value,{"v-slider-track__background--opacity":!!a.value||!M.value}],style:{...m.value,...Y.value}},null),i("div",{class:["v-slider-track__fill",c.value],style:{...I.value,...D.value}},null),f.value&&i("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":f.value==="always"}]},[w.value])])),{}}}),Kt=ue({name:"VRangeSlider",props:{...Pt(),...Me(),...jt(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const s=E(),a=E(),l=E();function u(m){if(!s.value||!a.value)return;const g=pe(m,s.value.$el,t.direction),I=pe(m,a.value.$el,t.direction),w=Math.abs(g),C=Math.abs(I);return w<C||w===C&&g<0?s.value.$el:a.value.$el}const{activeThumbRef:d,hasLabels:f,max:S,min:_,mousePressed:M,onSliderMousedown:N,onSliderTouchstart:R,position:$,roundValue:T,trackContainerRef:A}=qt({props:t,handleSliderMouseUp:m=>{var g;c.value=d.value===((g=s.value)==null?void 0:g.$el)?[m,c.value[1]]:[c.value[0],m]},handleMouseMove:m=>{var g;const[I,w]=c.value;if(!t.strict&&I===w&&I!==_.value){var C,b,F;d.value=m>I?(C=a.value)==null?void 0:C.$el:(b=s.value)==null?void 0:b.$el,(F=d.value)==null||F.focus()}d.value===((g=s.value)==null?void 0:g.$el)?c.value=[Math.min(m,w),w]:c.value=[I,Math.max(I,m)]},getActiveThumb:u}),c=Ve(t,"modelValue",void 0,m=>!m||!m.length?[0,0]:m.map(g=>T(g))),{isFocused:D,focus:q,blur:Y}=xt(t),v=h(()=>$(c.value[0])),y=h(()=>$(c.value[1]));return ae(()=>{const[m,g]=Ae(t),I=!!(t.label||r.label||r.prepend);return i(Oe,le({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!r["tick-label"]||f.value,"v-slider--focused":D.value,"v-slider--pressed":M.value,"v-slider--disabled":t.disabled}],ref:l},m,{focused:D.value}),{...r,prepend:I?w=>{var F;var C,b;return i(J,null,[((F=(C=r.label)==null?void 0:C.call(r,w))!=null?F:t.label)?i(Ut,{class:"v-slider__label",text:t.label},null):void 0,(b=r.prepend)==null?void 0:b.call(r,w)])}:void 0,default:w=>{var C,b;let{id:F,messagesId:B}=w;return i("div",{class:"v-slider__container",onMousedown:N,onTouchstartPassive:R},[i("input",{id:`${F.value}_start`,name:t.name||F.value,disabled:t.disabled,readonly:t.readonly,tabindex:"-1",value:c.value[0]},null),i("input",{id:`${F.value}_stop`,name:t.name||F.value,disabled:t.disabled,readonly:t.readonly,tabindex:"-1",value:c.value[1]},null),i(Jt,{ref:A,start:v.value,stop:y.value},{"tick-label":r["tick-label"]}),i(Ie,{ref:s,"aria-describedby":B.value,focused:D&&d.value===((C=s.value)==null?void 0:C.$el),modelValue:c.value[0],"onUpdate:modelValue":P=>c.value=[P,c.value[1]],onFocus:P=>{var k,V;if(q(),d.value=(k=s.value)==null?void 0:k.$el,c.value[0]===c.value[1]&&c.value[1]===_.value&&P.relatedTarget!==((V=a.value)==null?void 0:V.$el)){var O,L;(O=s.value)==null||O.$el.blur(),(L=a.value)==null||L.$el.focus()}},onBlur:()=>{Y(),d.value=void 0},min:_.value,max:c.value[1],position:v.value},{"thumb-label":r["thumb-label"]}),i(Ie,{ref:a,"aria-describedby":B.value,focused:D&&d.value===((b=a.value)==null?void 0:b.$el),modelValue:c.value[1],"onUpdate:modelValue":P=>c.value=[c.value[0],P],onFocus:P=>{var k,V;if(q(),d.value=(k=a.value)==null?void 0:k.$el,c.value[0]===c.value[1]&&c.value[0]===S.value&&P.relatedTarget!==((V=s.value)==null?void 0:V.$el)){var O,L;(O=a.value)==null||O.$el.blur(),(L=s.value)==null||L.$el.focus()}},onBlur:()=>{Y(),d.value=void 0},min:c.value[0],max:S.value,position:y.value},{"thumb-label":r["thumb-label"]})])}})}),{}}}),Yt={key:0,style:{"padding-bottom":"20px"}};function Xt(t,e,r,s,a,l){return p(),j(J,null,[r.label?(p(),j("h3",Yt,re(r.label),1)):ie("",!0),i(Kt,{modelValue:l.inputVal,"onUpdate:modelValue":e[2]||(e[2]=u=>l.inputVal=u),min:r.min,max:r.max,step:r.step},{prepend:z(()=>[i(H,{modelValue:l.inputVal[0],"onUpdate:modelValue":e[0]||(e[0]=u=>l.inputVal[0]=u),"hide-details":"","single-line":"",type:"number",variant:"outlined",density:"compact",style:{width:"120px"}},null,8,["modelValue"])]),append:z(()=>[i(H,{modelValue:l.inputVal[1],"onUpdate:modelValue":e[1]||(e[1]=u=>l.inputVal[1]=u),"hide-details":"","single-line":"",type:"number",variant:"outlined",density:"compact",style:{width:"120px"}},null,8,["modelValue"])]),_:1},8,["modelValue","min","max","step"])],64)}const Pe=Ne(Dt,[["render",Xt]]),Ht={key:0},Gt={name:"ConfigureSection",props:{name:String,conf_info:Object}},Wt=ve({...Gt,setup(t){const e=_e();return(r,s)=>{const a=it("ConfigureSection",!0);return p(),j(J,null,[t.name?(p(),j("h2",Ht,re(t.name),1)):ie("",!0),(p(!0),j(J,null,se(t.conf_info,(l,u)=>(p(),U(ke,{key:u},{default:z(()=>[l.data.String?(p(),U(H,{key:0,label:l.name,modelValue:o(e).conf_by_id(l.id).String,"onUpdate:modelValue":d=>o(e).conf_by_id(l.id).String=d},null,8,["label","modelValue","onUpdate:modelValue"])):l.data.Int?(p(),U(H,{key:1,label:l.name,type:"number",modelValue:o(e).conf_by_id(l.id).Int,"onUpdate:modelValue":d=>o(e).conf_by_id(l.id).Int=d,modelModifiers:{number:!0}},null,8,["label","modelValue","onUpdate:modelValue"])):l.data.IntRange?(p(),U(Pe,{key:2,modelValue:o(e).conf_by_id(l.id).IntRange,"onUpdate:modelValue":d=>o(e).conf_by_id(l.id).IntRange=d,label:l.name,step:1,min:l.data.IntRange.min,max:l.data.IntRange.max},null,8,["modelValue","onUpdate:modelValue","label","min","max"])):l.data.Float?(p(),U(H,{key:3,label:l.name,type:"number",modelValue:o(e).conf_by_id(l.id).Float,"onUpdate:modelValue":d=>o(e).conf_by_id(l.id).Float=d,modelModifiers:{number:!0}},null,8,["label","modelValue","onUpdate:modelValue"])):l.data.FloatRange?(p(),U(Pe,{key:4,modelValue:o(e).conf_by_id(l.id).FloatRange,"onUpdate:modelValue":d=>o(e).conf_by_id(l.id).FloatRange=d,label:l.name,step:.001,min:l.data.FloatRange.min,max:l.data.FloatRange.max},null,8,["modelValue","onUpdate:modelValue","label","step","min","max"])):ie("",!0),l.data.JSON?(p(),U(H,{key:5,label:l.name,modelValue:o(e).conf_by_id(l.id).JSON,"onUpdate:modelValue":d=>o(e).conf_by_id(l.id).JSON=d},null,8,["label","modelValue","onUpdate:modelValue"])):l.data.ChoiceList?(p(),U(Le,{key:6,modelValue:o(e).conf_by_id(l.id).ChoiceList,"onUpdate:modelValue":d=>o(e).conf_by_id(l.id).ChoiceList=d,modelModifiers:{number:!0}},{default:z(()=>[Q("p",null,re(l.name),1),(p(!0),j(J,null,se(l.data.ChoiceList.choices,(d,f)=>(p(),U(ze,{key:f,label:d,value:f},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):l.data.Section?(p(),U(a,{key:7,conf_info:l.data.Section,name:l.name},null,8,["conf_info","name"])):ie("",!0)]),_:2},1024))),128))],64)}}}),Zt=Q("h1",null,"3. Configure device",-1),Qt=ve({__name:"Configure",setup(t){const e=_e();return(r,s)=>(p(),U(Se,{disabled:!o(e).is_idle},{default:z(()=>[Zt,i(Wt,{conf_info:o(e).conf_info},null,8,["conf_info"]),i(me,{loading:!o(e).is_idle,disabled:!o(e).start_init_available||!o(e).is_idle,onClick:s[0]||(s[0]=ye(a=>o(e).configure_device(),["stop"]))},{default:z(()=>[fe("Configure")]),_:1},8,["loading","disabled"])]),_:1},8,["disabled"]))}}),el={name:"ErrorSnack",props:{modelValue:Boolean,msgs:Array},emits:["update:modelValue"]};const tl=st()({name:"VSnackbar",props:{multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...rt({location:"bottom"}),...ut(),...xe(),...dt(),...ct(),...vt(mt({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const s=Ve(t,"modelValue"),{locationStyles:a}=ft(t),{positionClasses:l}=_t(t),{scopeId:u}=bt(),{themeClasses:d}=ht(t),{colorClasses:f,colorStyles:S,variantClasses:_}=pt(t),{roundedClasses:M}=Be(t),N=E();Re(s,$),Re(()=>t.timeout,$),gt(()=>{s.value&&$()});let R=-1;function $(){window.clearTimeout(R);const A=Number(t.timeout);!s.value||A===-1||(R=window.setTimeout(()=>{s.value=!1},A))}function T(){window.clearTimeout(R)}return ae(()=>{const[A]=yt(t);return i(St,le({ref:N,class:["v-snackbar",{"v-snackbar--active":s.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--vertical":t.vertical},l.value]},A,{modelValue:s.value,"onUpdate:modelValue":c=>s.value=c,contentProps:le({style:a.value},A.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none"},u),{default:()=>[i("div",{class:["v-snackbar__wrapper",d.value,f.value,M.value,_.value],style:[S.value],onPointerenter:T,onPointerleave:$},[kt(!1,"v-snackbar"),r.default&&i("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[r.default()]),r.actions&&i(Vt,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[i("div",{class:"v-snackbar__actions"},[r.actions()])]})])],activator:r.activator})}),ge({},N)}}),ll={style:{"text-align":"center"}};function al(t,e,r,s,a,l){return p(),j("div",ll,[i(tl,{timeout:-1,modelValue:r.modelValue,"onUpdate:modelValue":e[1]||(e[1]=u=>t.$emit("update:modelValue",u.valueOf())),color:"red-darken-2",timer:!0},{actions:z(()=>[i(me,{text:"",onClick:e[0]||(e[0]=u=>t.$emit("update:modelValue",!1))},{default:z(()=>[fe(" Close ")]),_:1})]),default:z(()=>[(p(!0),j(J,null,se(r.msgs,(u,d)=>(p(),j("ul",{key:d},[Q("li",null,re(u),1)]))),128))]),_:1},8,["modelValue"])])}const nl=Ne(el,[["render",al]]);const ol=ue({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,hint:String,persistentHint:Boolean,placeholder:String,showSize:{type:[Boolean,Number],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(t)},...Me({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:t=>Ct(t).every(e=>e!=null&&typeof e=="object")},...Bt({clearable:!0})},emits:{"click:control":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:r,emit:s,slots:a}=e;const{t:l}=wt(),u=Ve(t,"modelValue"),d=h(()=>typeof t.showSize!="boolean"?t.showSize:void 0),f=h(()=>{var v;return((v=u.value)!=null?v:[]).reduce((y,m)=>{let{size:g=0}=m;return y+g},0)}),S=h(()=>$e(f.value,d.value)),_=h(()=>{var v;return((v=u.value)!=null?v:[]).map(y=>{const{name:m="",size:g=0}=y;return t.showSize?`${m} (${$e(g,d.value)})`:m})}),M=h(()=>{var m;var v;const y=(m=(v=u.value)==null?void 0:v.length)!=null?m:0;return t.showSize?l(t.counterSizeString,y,S.value):l(t.counterString,y)}),N=E(),R=E(),$=E(!1),T=E(),A=h(()=>t.messages.length?t.messages:t.persistentHint?t.hint:"");function c(){if(T.value!==document.activeElement){var v;(v=T.value)==null||v.focus()}$.value||($.value=!0)}function D(v){Te(t["onClick:prepend"],v),q(v)}function q(v){var y;(y=T.value)==null||y.click(),s("click:control",v)}function Y(v){v.stopPropagation(),c(),Rt(()=>{u.value=[],T!=null&&T.value&&(T.value.value=""),Te(t["onClick:clear"],v)})}return ae(()=>{const v=!!(a.counter||t.counter),y=!!(v||a.details),[m,g]=Ft(r),[{modelValue:I,...w}]=Ae(t),[C]=Nt(t);return i(Oe,le({ref:N,modelValue:u.value,"onUpdate:modelValue":b=>u.value=b,class:"v-file-input","onClick:prepend":D,"onClick:append":t["onClick:append"]},m,w,{focused:$.value,messages:A.value}),{...a,default:b=>{let{id:F,isDisabled:B,isDirty:P,isReadonly:k,isValid:V}=b;return i(Lt,le({ref:R,"prepend-icon":t.prependIcon,"onClick:control":q,"onClick:clear":Y,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},C,{id:F.value,active:P.value||$.value,dirty:P.value,focused:$.value,error:V.value===!1}),{...a,default:O=>{var L;let{props:{class:G,...ee}}=O;return i(J,null,[i("input",le({ref:T,type:"file",readonly:k.value,disabled:B.value,multiple:t.multiple,name:t.name,onClick:K=>{K.stopPropagation(),c()},onChange:K=>{var n;if(!K.target)return;const de=K.target;u.value=[...(n=de.files)!=null?n:[]]},onFocus:c,onBlur:()=>$.value=!1},ee,g),null),i("div",{class:G},[!!((L=u.value)!=null&&L.length)&&(a.selection?a.selection({fileNames:_.value,totalBytes:f.value,totalBytesReadable:S.value}):t.chips?_.value.map(K=>i(zt,{key:K,size:"small",color:t.color},{default:()=>[K]})):_.value.join(", "))])])}})},details:y?b=>{var F,B;return i(J,null,[(F=a.details)==null?void 0:F.call(a,b),v&&i(J,null,[i("span",null,null),i(Mt,{active:!!((B=u.value)!=null&&B.length),value:M.value},a.counter)])])}:void 0})}),ge({},N,R,T)}}),il=Q("h1",null,"1. Start initialization",-1),ul=ve({__name:"NewDevice",setup(t){const e=_e();return(r,s)=>(p(),j(J,null,[i(nl,{modelValue:o(e).show_error,"onUpdate:modelValue":s[0]||(s[0]=a=>o(e).handle_error_close(a.valueOf())),msgs:o(e).error_msgs},null,8,["modelValue","msgs"]),te(i(Se,{disabled:!o(e).is_idle},{default:z(()=>[i(ke,null,{default:z(()=>[il,i(H,{label:"Device name",modelValue:o(e).device_name,"onUpdate:modelValue":s[1]||(s[1]=a=>o(e).device_name=a),active:o(e).is_idle},null,8,["modelValue","active"]),i(ol,{label:"Device's module file",modelValue:o(e).module_file,"onUpdate:modelValue":s[2]||(s[2]=a=>o(e).module_file=a)},null,8,["modelValue"]),i(me,{loading:!o(e).is_idle,disabled:!o(e).start_init_available||!o(e).is_idle,onClick:s[3]||(s[3]=ye(a=>o(e).start_device_init(),["stop"]))},{default:z(()=>[fe("Start Init")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["disabled"]),[[ne,o(e).init_state==o(oe).None]]),te(i(Ot,null,null,512),[[ne,o(e).init_state==o(oe).Connect]]),te(i(Qt,null,null,512),[[ne,o(e).init_state==o(oe).Configure]]),te(Q("h1",null," You're all set! ",512),[[ne,o(e).init_state==o(oe).Done]])],64))}});export{ul as default};
